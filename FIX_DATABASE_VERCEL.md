# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ Vercel

## –ö–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

–í –≤–∞—à–µ–º Vercel –µ—Å—Ç—å:
- **`PRISMA_DATABASE_URL`** - –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Å connection pooling) ‚úÖ
- **`POSTGRES_URL`** - –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π (–±–µ–∑ pooling) ‚úÖ
- **`DATABASE_URL`** - –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–∞—è –∏–∑ –Ω–∏—Ö

## –†–µ—à–µ–Ω–∏–µ:

### 1. Schema —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω ‚úÖ

–§–∞–π–ª `prisma/schema.prisma` —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `PRISMA_DATABASE_URL` - —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!

### 2. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ —Å—Ö–µ–º—É –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:

**–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ PowerShell (–ª–æ–∫–∞–ª—å–Ω–æ)**

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `POSTGRES_URL` –∏–∑ Vercel**:
   - Vercel Dashboard ‚Üí –í–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí Storage ‚Üí –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `POSTGRES_URL`

2. **–í—Ä–µ–º–µ–Ω–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç–µ —Å—Ö–µ–º—É**:
   ```powershell
   # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ POSTGRES_URL (–±–µ–∑ pooling, –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π)
   $env:DATABASE_URL="<—Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ POSTGRES_URL>"
   
   # –ü—Ä–∏–º–µ–Ω–∏—Ç–µ —Å—Ö–µ–º—É
   npx prisma db push
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**:
   ```powershell
   npx prisma studio
   ```
   
   –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Ç–∞–±–ª–∏—Ü—ã: `User`, `Account`, `Session`, `VerificationToken`

**–í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ .env.local**

1. **–°–æ–∑–¥–∞–π—Ç–µ/–æ–±–Ω–æ–≤–∏—Ç–µ `.env.local`**:
   ```env
   # –î–ª—è –º–∏–≥—Ä–∞—Ü–∏–π (–≤—Ä–µ–º–µ–Ω–Ω–æ)
   DATABASE_URL="<–∑–Ω–∞—á–µ–Ω–∏–µ POSTGRES_URL –∏–∑ Vercel>"
   
   # –î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ Vercel)
   PRISMA_DATABASE_URL="<–∑–Ω–∞—á–µ–Ω–∏–µ PRISMA_DATABASE_URL –∏–∑ Vercel>"
   ```

2. **–í—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ `schema.prisma`**:
   ```prisma
   datasource db {
     provider = "postgresql"
     url      = env("DATABASE_URL")  // –í—Ä–µ–º–µ–Ω–Ω–æ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
   }
   ```

3. **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ —Å—Ö–µ–º—É**:
   ```powershell
   npx prisma db push
   ```

4. **–í–µ—Ä–Ω–∏—Ç–µ –æ–±—Ä–∞—Ç–Ω–æ**:
   ```prisma
   datasource db {
     provider = "postgresql"
     url      = env("PRISMA_DATABASE_URL")  // –î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   }
   ```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ Vercel:

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ Vercel –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   - `PRISMA_DATABASE_URL` ‚úÖ
   - `POSTGRES_URL` ‚úÖ
   - `DATABASE_URL` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ Google - –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å! ‚úÖ

---

## –ü–æ—á–µ–º—É –Ω—É–∂–Ω—ã —Ä–∞–∑–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ?

- **`PRISMA_DATABASE_URL`** (—Å pooling) - –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç PgBouncer –¥–ª—è connection pooling
  - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)

- **`POSTGRES_URL`** (–±–µ–∑ pooling) - –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
  - –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ
  - –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –∏ —Å—Ö–µ–º—ã
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è `prisma db push` –∏–ª–∏ `prisma migrate`

---

## –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã:

–¢–∞–±–ª–∏—Ü—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã, –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Google –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç! üéâ






